<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Configuraci√≥n - ArbitrageAR</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="options-container">
    <header class="options-header">
      <h1>‚öôÔ∏è Configuraci√≥n de Alertas</h1>
      <p>Personaliza c√≥mo y cu√°ndo quieres recibir notificaciones de oportunidades de arbitraje</p>
    </header>

    <main class="options-content">
      <!-- SECCI√ìN 1: Activar/Desactivar Notificaciones -->
      <section class="settings-section">
        <h2>üîî Notificaciones</h2>
        <div class="setting-item">
          <div class="setting-info">
            <label for="notifications-enabled" class="setting-label">Activar notificaciones</label>
            <p class="setting-description">Recibe alertas cuando aparezcan oportunidades rentables</p>
          </div>
          <label class="switch">
            <input type="checkbox" id="notifications-enabled" checked>
            <span class="slider"></span>
          </label>
        </div>
      </section>

      <!-- SECCI√ìN 2: Tipos de Alertas -->
      <section class="settings-section" id="alert-types-section">
        <h2>üìä Tipos de Alertas</h2>
        
        <div class="setting-item">
          <div class="setting-info">
            <label>
              <input type="radio" name="alert-type" value="all" checked>
              <span class="radio-label">Todas las oportunidades (‚â•1.5%)</span>
            </label>
            <p class="setting-description">Te notificaremos de cualquier arbitraje rentable</p>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label>
              <input type="radio" name="alert-type" value="moderate">
              <span class="radio-label">Oportunidades moderadas (‚â•5%)</span>
            </label>
            <p class="setting-description">Solo ganancias superiores al 5% neto</p>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label>
              <input type="radio" name="alert-type" value="high">
              <span class="radio-label">Oportunidades altas (‚â•10%)</span>
            </label>
            <p class="setting-description">Solo las mejores oportunidades</p>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label>
              <input type="radio" name="alert-type" value="extreme">
              <span class="radio-label">Oportunidades excepcionales (‚â•15%)</span>
            </label>
            <p class="setting-description">Solo arbitrajes extraordinarios</p>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label>
              <input type="radio" name="alert-type" value="custom">
              <span class="radio-label">Personalizado</span>
            </label>
            <div class="custom-threshold">
              <label for="custom-threshold">Umbral m√≠nimo: <span id="threshold-value">5</span>%</label>
              <input type="range" id="custom-threshold" min="1" max="20" step="0.5" value="5" disabled>
            </div>
          </div>
        </div>
      </section>

      <!-- SECCI√ìN 3: Frecuencia de Notificaciones -->
      <section class="settings-section" id="frequency-section">
        <h2>‚è∞ Frecuencia de Notificaciones</h2>
        
        <div class="setting-item">
          <div class="setting-info">
            <label for="notification-frequency" class="setting-label">L√≠mite de notificaciones</label>
            <select id="notification-frequency">
              <option value="always">Sin l√≠mite (siempre notificar)</option>
              <option value="5min">M√°ximo cada 5 minutos</option>
              <option value="15min" selected>M√°ximo cada 15 minutos</option>
              <option value="30min">M√°ximo cada 30 minutos</option>
              <option value="1hour">M√°ximo cada 1 hora</option>
              <option value="once">Solo una vez por sesi√≥n</option>
            </select>
            <p class="setting-description">Evita notificaciones repetitivas</p>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="sound-enabled" class="setting-label">Sonido de notificaci√≥n</label>
            <label class="switch">
              <input type="checkbox" id="sound-enabled" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </section>

      <!-- SECCI√ìN 4: Preferencias de Rutas (NUEVO v5.0) -->
      <section class="settings-section">
        <h2>üéØ Preferencias de Rutas</h2>
        
        <div class="setting-item">
          <div class="setting-info">
            <label for="show-negative-routes" class="setting-label">Mostrar rutas negativas</label>
            <p class="setting-description">Ver rutas con p√©rdida para an√°lisis de mercado</p>
          </div>
          <label class="switch">
            <input type="checkbox" id="show-negative-routes" checked>
            <span class="slider"></span>
          </label>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="prefer-single-exchange" class="setting-label">Priorizar rutas en mismo broker</label>
            <p class="setting-description">Mostrar primero las rutas sin transferencia blockchain</p>
          </div>
          <label class="switch">
            <input type="checkbox" id="prefer-single-exchange">
            <span class="slider"></span>
          </label>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="default-sim-amount" class="setting-label">Monto por defecto simulador (ARS)</label>
            <p class="setting-description">Monto inicial al abrir el simulador</p>
          </div>
          <div class="input-group">
            <input type="number" id="default-sim-amount" min="1000" max="10000000" step="1000" value="100000">
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="max-routes-display" class="setting-label">M√°ximo de rutas a mostrar</label>
            <p class="setting-description">Cantidad de rutas visibles en el popup (1-50)</p>
          </div>
          <div class="input-group">
            <input type="number" id="max-routes-display" min="1" max="50" value="20">
          </div>
        </div>
      </section>

      <!-- SECCI√ìN 5: Fees Personalizados -->
      <section class="settings-section">
        <h2>üí∏ Fees Personalizados</h2>
        <div class="setting-info">
          <p class="setting-description">Ajusta los fees seg√∫n tu experiencia real con cada exchange. Estos valores se sumar√°n a los c√°lculos de arbitraje.</p>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="extra-trading-fee" class="setting-label">Fee de trading adicional (%)</label>
            <p class="setting-description">Comisi√≥n extra al comprar/vender crypto (ej: 0.5%)</p>
          </div>
          <div class="input-group">
            <input type="number" id="extra-trading-fee" min="0" max="10" step="0.1" value="0" placeholder="0">
            <span class="input-suffix">%</span>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="extra-withdrawal-fee" class="setting-label">Fee de retiro adicional (%)</label>
            <p class="setting-description">Comisi√≥n extra al retirar ARS del exchange (ej: 0.5%)</p>
          </div>
          <div class="input-group">
            <input type="number" id="extra-withdrawal-fee" min="0" max="10" step="0.1" value="0" placeholder="0">
            <span class="input-suffix">%</span>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="extra-transfer-fee" class="setting-label">Fee de transferencia adicional (USD)</label>
            <p class="setting-description">Costo extra al transferir USDT entre exchanges (ej: $0.50)</p>
          </div>
          <div class="input-group">
            <input type="number" id="extra-transfer-fee" min="0" max="50" step="0.1" value="0" placeholder="0">
            <span class="input-suffix">USD</span>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="bank-commission-fee" class="setting-label">Comisi√≥n bancaria (%)</label>
            <p class="setting-description">Comisi√≥n del banco al comprar USD oficial (ej: 0.3%)</p>
          </div>
          <div class="input-group">
            <input type="number" id="bank-commission-fee" min="0" max="10" step="0.1" value="0" placeholder="0">
            <span class="input-suffix">%</span>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label class="setting-label">‚ö†Ô∏è Nota importante</label>
            <p class="setting-description" style="color: #fbbf24;">Estos fees SE SUMAN a los fees predeterminados de cada exchange. √ösalos solo si tu exchange cobra fees adicionales no contemplados en los c√°lculos base.</p>
          </div>
        </div>
      </section>

      <!-- SECCI√ìN 6: Exchanges Favoritos -->
      <section class="settings-section">
        <h2>üè¶ Exchanges Preferidos</h2>
        <div class="setting-info">
          <p class="setting-description">Solo recibir alertas de exchanges espec√≠ficos (deja vac√≠o para todos)</p>
        </div>
        
        <div class="exchanges-grid">
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="buenbit">
            <span>Buenbit</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="ripio">
            <span>Ripio</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="binance">
            <span>Binance</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="satoshitango">
            <span>SatoshiTango</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="letsbit">
            <span>Letsbit</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="lemoncash">
            <span>Lemon</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="decrypto">
            <span>Decrypto</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="fiwind">
            <span>Fiwind</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="belo">
            <span>Belo</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="tiendacrypto">
            <span>TiendaCrypto</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="bitso">
            <span>Bitso</span>
          </label>
          <label class="exchange-checkbox">
            <input type="checkbox" name="exchange" value="cryptomkt">
            <span>CryptoMKT</span>
          </label>
        </div>
      </section>

      <!-- SECCI√ìN 5: Horarios -->
      <section class="settings-section">
        <h2>üïê Horario de Notificaciones</h2>
        
        <div class="setting-item">
          <div class="setting-info">
            <label for="quiet-hours-enabled" class="setting-label">Activar modo silencioso</label>
            <p class="setting-description">No molestar durante ciertas horas</p>
          </div>
          <label class="switch">
            <input type="checkbox" id="quiet-hours-enabled">
            <span class="slider"></span>
          </label>
        </div>

        <div class="quiet-hours-config" id="quiet-hours-config" style="display: none;">
          <div class="time-inputs">
            <div>
              <label for="quiet-start">Desde:</label>
              <input type="time" id="quiet-start" value="22:00">
            </div>
            <div>
              <label for="quiet-end">Hasta:</label>
              <input type="time" id="quiet-end" value="08:00">
            </div>
          </div>
        </div>
      </section>

      <!-- SECCI√ìN 6: Test de Notificaci√≥n -->
      <section class="settings-section">
        <h2>üß™ Prueba</h2>
        <button id="test-notification" class="test-button">
          üîî Enviar notificaci√≥n de prueba
        </button>
      </section>
    </main>

    <footer class="options-footer">
      <button id="save-settings" class="save-button">üíæ Guardar Configuraci√≥n</button>
      <button id="reset-settings" class="reset-button">üîÑ Restaurar Valores por Defecto</button>
      <div id="save-status" class="save-status"></div>
    </footer>
  </div>

  <script src="options.js"></script>
</body>
</html>
