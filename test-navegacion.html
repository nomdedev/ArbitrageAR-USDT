<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test de Navegación de Pestañas</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #1e293b;
      color: white;
    }
    
    .tab {
      padding: 10px 20px;
      margin: 5px;
      background: #3b82f6;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 4px;
    }
    
    .tab.active {
      background: #1e3a8a;
    }
    
    .tab-content {
      display: none;
      padding: 20px;
      background: #334155;
      margin-top: 20px;
      border-radius: 8px;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .route-card {
      background: #475569;
      padding: 15px;
      margin: 10px 0;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .route-card:hover {
      background: #64748b;
      transform: translateY(-2px);
    }
    
    .route-card.selected {
      border: 2px solid #3b82f6;
    }
  </style>
</head>
<body>
  <h1>Test de Navegación ArbitrageAR</h1>
  
  <div>
    <button class="tab active" data-tab="routes">🎯 Rutas</button>
    <button class="tab" data-tab="guide">📚 Guía</button>
  </div>
  
  <section id="tab-routes" class="tab-content active">
    <h2>Rutas de Arbitraje</h2>
    <div id="routes-container">
      <div class="route-card" data-index="0">
        <h3>Ruta 1: Buenbit</h3>
        <p>Ganancia: +2.5%</p>
        <p>👆 Click para ver guía</p>
      </div>
      <div class="route-card" data-index="1">
        <h3>Ruta 2: Binance</h3>
        <p>Ganancia: +3.1%</p>
        <p>👆 Click para ver guía</p>
      </div>
    </div>
  </section>
  
  <section id="tab-guide" class="tab-content">
    <h2>Guía Paso a Paso</h2>
    <div id="selected-arbitrage-guide">
      <p class="select-prompt">👆 Selecciona una ruta para ver la guía</p>
    </div>
  </section>
  
  <div id="console-log" style="margin-top: 30px; padding: 15px; background: #0f172a; border-radius: 8px; font-family: monospace; font-size: 12px;">
    <h3>Console Log:</h3>
    <div id="log-content"></div>
  </div>
  
  <script>
    // Custom console log
    const logDiv = document.getElementById('log-content');
    function log(message) {
      const time = new Date().toLocaleTimeString();
      logDiv.innerHTML += `<div>[${time}] ${message}</div>`;
      console.log(message);
    }
    
    // Setup tab navigation
    function setupTabNavigation() {
      const tabs = document.querySelectorAll('.tab');
      log(`📑 Configurando ${tabs.length} pestañas`);
      
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          const tabId = tab.dataset.tab;
          log(`🔄 Cambiando a pestaña: ${tabId}`);
          
          // Remove active from all
          tabs.forEach(t => t.classList.remove('active'));
          document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
          
          // Activate selected
          tab.classList.add('active');
          const targetContent = document.getElementById(`tab-${tabId}`);
          
          if (targetContent) {
            targetContent.classList.add('active');
            log(`✅ Pestaña ${tabId} activada`);
          } else {
            log(`❌ No se encontró tab-${tabId}`);
          }
        });
      });
    }
    
    // Setup route cards
    function setupRouteCards() {
      const cards = document.querySelectorAll('.route-card');
      log(`🎯 Configurando ${cards.length} tarjetas de ruta`);
      
      cards.forEach((card, idx) => {
        card.addEventListener('click', function(e) {
          const index = parseInt(this.dataset.index);
          log(`🖱️ Click en tarjeta ${idx}, index: ${index}`);
          
          // Remove previous selection
          document.querySelectorAll('.route-card').forEach(c => c.classList.remove('selected'));
          this.classList.add('selected');
          log(`✅ Tarjeta ${index} seleccionada`);
          
          // Update guide content
          const guideContainer = document.getElementById('selected-arbitrage-guide');
          if (guideContainer) {
            guideContainer.innerHTML = `
              <div style="padding: 20px; background: #1e3a8a; border-radius: 8px;">
                <h3>Guía para Ruta ${index + 1}</h3>
                <p><strong>Paso 1:</strong> Comprar dólares oficiales</p>
                <p><strong>Paso 2:</strong> Depositar en exchange</p>
                <p><strong>Paso 3:</strong> Comprar USDT</p>
                <p><strong>Paso 4:</strong> Vender por ARS</p>
              </div>
            `;
            log(`📝 Guía actualizada para ruta ${index}`);
          } else {
            log(`❌ No se encontró selected-arbitrage-guide`);
          }
          
          // Switch to guide tab
          const guideTab = document.querySelector('[data-tab="guide"]');
          if (guideTab) {
            log(`✅ Intentando cambiar a pestaña guía`);
            guideTab.click();
          } else {
            log(`❌ No se encontró botón [data-tab="guide"]`);
          }
        });
      });
      
      log(`✅ Event listeners agregados a ${cards.length} tarjetas`);
    }
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      log('🚀 Inicializando aplicación');
      setupTabNavigation();
      setupRouteCards();
      log('✅ Inicialización completa');
    });
  </script>
</body>
</html>
