# 👀 VISTA PREVIA: Lo Que Verás en la Extensión

**Versión**: 5.0.75  
**Guía visual de todas las nuevas features**

---

## 🖼️ PANTALLA PRINCIPAL

```
┌────────────────────────────────────────────────┐
│  ArbitrARS - Detector de Arbitraje            │
│                                    🔄 Actualizar│
├────────────────────────────────────────────────┤
│  🟢 Datos: hace 0 min                          │ ← NUEVO v5.0.74
│  💰 Dólar Oficial: $1,030.50                   │
│  ⏰ Última actualización: 14:23:45 (hace 0 min)│ ← NUEVO v5.0.74
├────────────────────────────────────────────────┤
│  [Todas] [P2P] [Directo]                      │
│                                                 │
│  ⚙️ Filtros Avanzados ▼                        │ ← NUEVO v5.0.75
│                                                 │
│  📊 Rutas encontradas: 24                      │
│  ├─ Con P2P: 10                                │
│  └─ Directas: 14                               │
│                                                 │
│  ┌──────────────────────────────────────────┐ │
│  │ 🟢 BUENBIT → Banco (P2P)                 │ │
│  │ Ganancia: +3.45% ($34.50 por cada $1000)│ │
│  │ Compra: $1,015.50 | Venta: $1,050.00    │ │
│  └──────────────────────────────────────────┘ │
│                                                 │
│  ┌──────────────────────────────────────────┐ │
│  │ 🟡 LEMON → BELO                          │ │
│  │ Ganancia: +2.87% ($28.70 por cada $1000)│ │
│  │ Compra: $1,020.30 | Venta: $1,049.00    │ │
│  └──────────────────────────────────────────┘ │
└────────────────────────────────────────────────┘
```

---

## 🟢 INDICADOR VERDE (Datos Frescos <3 min)

```
┌────────────────────────────────────────────────┐
│  🟢 Datos: hace 0 min                          │ ← Fondo verde claro
│  💰 Dólar Oficial: $1,030.50                   │
│  ⏰ Última actualización: 14:23:45 (hace 0 min)│ ← Fondo verde claro
└────────────────────────────────────────────────┘
```

**Significado:**
- ✅ Datos están FRESCOS
- ✅ Actualizados hace menos de 3 minutos
- ✅ Puedes confiar en estos precios

---

## 🟡 INDICADOR AMARILLO (Datos Moderados 3-5 min)

```
┌────────────────────────────────────────────────┐
│  🟡 Datos: hace 4 min                          │ ← Fondo amarillo claro
│  💰 Dólar Oficial: $1,030.50                   │
│  ⏰ Última actualización: 14:19:45 (hace 4 min)│ ← Fondo amarillo claro
└────────────────────────────────────────────────┘
```

**Significado:**
- ⚠️ Datos están MODERADAMENTE VIEJOS
- ⚠️ Actualizados hace 3-5 minutos
- ⚠️ Considera actualizar pronto

---

## 🔴 INDICADOR ROJO + BANNER (Datos Viejos >5 min)

```
┌────────────────────────────────────────────────┐
│  🔴 Datos: hace 6 min                          │ ← Fondo rojo claro
│  💰 Dólar Oficial: $1,030.50                   │
│  ⏰ Última actualización: 14:17:45 (hace 6 min)│ ← Fondo rojo claro
├────────────────────────────────────────────────┤
│  ⚠️ ADVERTENCIA                                │ ← BANNER (NUEVO)
│  Los datos tienen más de 6 minutos.           │
│  Actualiza para ver precios frescos.          │
│  [🔄 Actualizar Ahora]                         │ ← Click para actualizar
└────────────────────────────────────────────────┘
```

**Significado:**
- ❌ Datos están DESACTUALIZADOS
- ❌ Actualizados hace más de 5 minutos
- ❌ NO tomes decisiones con estos datos
- 🔄 Actualiza AHORA

---

## 🎛️ PANEL DE FILTROS AVANZADOS (Colapsado)

```
┌────────────────────────────────────────────────┐
│  [Todas] [P2P] [Directo]                      │
│                                                 │
│  ⚙️ Filtros Avanzados ▼                        │ ← Click para expandir
│                                                 │
│  📊 Rutas encontradas: 24                      │
└────────────────────────────────────────────────┘
```

---

## 🎛️ PANEL DE FILTROS AVANZADOS (Expandido)

```
┌────────────────────────────────────────────────┐
│  [Todas] [P2P] [Directo]                      │
│                                                 │
│  ⚙️ Filtros Avanzados ▲                        │ ← Click para colapsar
│  ┌──────────────────────────────────────────┐ │
│  │                                           │ │
│  │  Exchange                                 │ │
│  │  [Todos los exchanges           ▼]       │ │ ← Select desplegable
│  │                                           │ │
│  │  Profit mínimo                            │ │
│  │  [━━━━━●──────────────]  0.0%            │ │ ← Slider azul
│  │  -10%                          +20%       │ │
│  │                                           │ │
│  │  ☐ Ocultar rutas negativas               │ │ ← Checkbox
│  │                                           │ │
│  │  Ordenar por                              │ │
│  │  [Profit (mayor a menor)       ▼]        │ │ ← Select desplegable
│  │                                           │ │
│  │  [✓ Aplicar Filtros] [⟲ Resetear]       │ │ ← Botones
│  │                                           │ │
│  └──────────────────────────────────────────┘ │
│                                                 │
│  📊 Rutas encontradas: 24                      │
└────────────────────────────────────────────────┘
```

---

## 🔍 EJEMPLO: Filtrar por Exchange

### Paso 1: Expandir filtros
```
Click en "⚙️ Filtros Avanzados ▼"
```

### Paso 2: Seleccionar exchange
```
┌──────────────────────────────────────────┐
│  Exchange                                 │
│  [Buenbit                       ▼]       │ ← Seleccionar "Buenbit"
└──────────────────────────────────────────┘

Opciones disponibles:
  • Todos los exchanges
  • Belo
  • Buenbit
  • Lemon
  • Ripio
  • ... (todos los exchanges con rutas)
```

### Paso 3: Aplicar
```
Click en [✓ Aplicar Filtros]
```

### Resultado:
```
📊 Rutas encontradas: 8  ← Disminuye (solo Buenbit)

┌──────────────────────────────────────────┐
│ 🟢 BUENBIT → Banco (P2P)                 │ ← Buenbit en compra
│ Ganancia: +3.45% ($34.50 por cada $1000)│
└──────────────────────────────────────────┘

┌──────────────────────────────────────────┐
│ 🟡 LEMON → BUENBIT                       │ ← Buenbit en venta
│ Ganancia: +2.20% ($22.00 por cada $1000)│
└──────────────────────────────────────────┘

(Solo rutas que usan Buenbit en compra O venta)
```

---

## 📊 EJEMPLO: Filtrar por Profit Mínimo

### Paso 1: Mover slider a 3%
```
┌──────────────────────────────────────────┐
│  Profit mínimo                            │
│  [━━━━━━━━━●──────]  3.0%  ← Arrastra aquí│
│  -10%                          +20%       │
└──────────────────────────────────────────┘
```

**Mientras arrastras:**
- Valor se actualiza en tiempo real: "3.0%", "3.5%", "4.0%"
- Slider azul con thumb grande
- Animación suave

### Paso 2: Aplicar
```
Click en [✓ Aplicar Filtros]
```

### Resultado:
```
📊 Rutas encontradas: 5  ← Solo rutas con ≥3% profit

┌──────────────────────────────────────────┐
│ 🟢 BUENBIT → Banco (P2P)                 │
│ Ganancia: +3.45%  ← 3.45% ≥ 3.0% ✅      │
└──────────────────────────────────────────┘

┌──────────────────────────────────────────┐
│ 🟡 LEMON → BELO                          │
│ Ganancia: +3.12%  ← 3.12% ≥ 3.0% ✅      │
└──────────────────────────────────────────┘

(Rutas con +2.5% NO aparecen)
```

---

## 🚫 EJEMPLO: Ocultar Negativas

### Sin filtro:
```
📊 Rutas encontradas: 24

🟢 BUENBIT → Banco: +3.45%  ✅
🟡 LEMON → BELO: +2.87%     ✅
🔴 RIPIO → LEMON: -0.50%    ❌ Negativa
🔴 BELO → BUENBIT: -1.20%   ❌ Negativa
```

### Activar checkbox "Ocultar rutas negativas":
```
☑ Ocultar rutas negativas  ← Activar
```

### Después de aplicar:
```
📊 Rutas encontradas: 18  ← Disminuye

🟢 BUENBIT → Banco: +3.45%  ✅ Visible
🟡 LEMON → BELO: +2.87%     ✅ Visible
(Rutas negativas NO aparecen)
```

---

## 🔄 EJEMPLO: Ordenar

### Ordenar por "Profit (menor a mayor)":
```
┌──────────────────────────────────────────┐
│  Ordenar por                              │
│  [Profit (menor a mayor)       ▼]        │
└──────────────────────────────────────────┘

Opciones:
  • Profit (mayor a menor)  ← Default
  • Profit (menor a mayor)
  • Exchange (A-Z)
  • Inversión (mayor a menor)
```

### Resultado:
```
Primera ruta: +0.50%  ← Menor profit primero
Segunda ruta: +1.20%
Tercera ruta: +2.87%
Última ruta: +5.45%   ← Mayor profit último
```

---

## 🔄 EJEMPLO: Resetear Filtros

### Antes de resetear:
```
Exchange: [Buenbit ▼]
Profit mínimo: [━━━━━━━━●──] 5.0%
☑ Ocultar rutas negativas
Ordenar por: [Exchange (A-Z) ▼]

📊 Rutas encontradas: 2  ← Muy filtrado
```

### Click en [⟲ Resetear]:
```
Exchange: [Todos los exchanges ▼]  ← Resetea
Profit mínimo: [●────────────] 0.0%  ← Resetea
☐ Ocultar rutas negativas          ← Resetea
Ordenar por: [Profit (mayor a menor) ▼]  ← Resetea

📊 Rutas encontradas: 24  ← Todas vuelven
```

---

## 🎨 COMBINACIÓN DE FILTROS

### Ejemplo completo:
```
1. Filtro P2P: [Directo]  ← Sin P2P
2. Exchange: [Buenbit]    ← Solo Buenbit
3. Profit mín: 2%         ← Mínimo 2%
4. Ocultar neg: ☑         ← Sin negativas
5. Ordenar: Profit desc   ← Mayor primero
```

### Pipeline de filtrado:
```
INICIO: 50 rutas totales
  ↓
FILTRO P2P (Directo): 30 rutas
  ↓
FILTRO Exchange (Buenbit): 8 rutas
  ↓
FILTRO Profit (≥2%): 5 rutas
  ↓
FILTRO Negativas (hide): 5 rutas (ninguna era negativa)
  ↓
ORDENAR (Profit desc): 5 rutas ordenadas
  ↓
RESULTADO: 5 rutas mostradas
```

---

## 🔍 LOGS EN CONSOLE (F12)

### Al actualizar datos:
```
🔄 Iniciando actualización de datos...
📡 Llamando a API de CriptoYa...
✅ Datos recibidos de API

🏦 [DEBUG] Exchanges encontrados:
   - USDT/ARS: 15 exchanges
   - USD/USDT: 13 exchanges

✅ [DEBUG] Exchanges válidos: 13 (buenbit, lemon, belo, fiwind, ...)

❌ [DEBUG] ripio: Sin datos USD/USDT en API, excluyendo
❌ [DEBUG] lemon: Sin datos USD/USDT en API, excluyendo

🧮 Calculando rutas...
✅ Rutas calculadas: 24
```

### Al aplicar filtros:
```
🎛️ [FILTROS] Aplicando filtros...
   - P2P: directo
   - Exchange: buenbit
   - Profit min: 2%
   - Hide negative: true
   - Sort by: profit-desc

🎯 [FILTROS] Resultado:
   - Rutas originales: 24
   - Después de P2P: 14
   - Después de exchange: 8
   - Después de profit: 5
   - Después de negativas: 5
   - Rutas finales: 5
```

---

## ✅ CHECKLIST VISUAL

Cuando testees, verifica que veas:

### v5.0.74 - Indicadores
- [ ] 🟢 Verde cuando actualizas (hace 0-2 min)
- [ ] 🟡 Amarillo después de 4 minutos
- [ ] 🔴 Rojo después de 6 minutos
- [ ] Banner de advertencia aparece con 🔴
- [ ] Botón en banner funciona

### v5.0.75 - Filtros
- [ ] Botón "⚙️ Filtros Avanzados ▼"
- [ ] Panel se expande con animación
- [ ] Select de exchange tiene opciones
- [ ] Slider se mueve y muestra valor
- [ ] Checkbox funciona
- [ ] Select de ordenar tiene 4 opciones
- [ ] Botón "Aplicar" cierra panel y filtra
- [ ] Botón "Resetear" vuelve a defaults

### Console (F12)
- [ ] Sin errores rojos
- [ ] Logs de "[DEBUG] Exchanges válidos"
- [ ] Logs de exclusión para Ripio/Lemon
- [ ] Logs de filtros al aplicar

---

## 🎯 SI NO VES ALGO...

### No aparece banner rojo:
- ¿Esperaste más de 5 minutos sin cerrar popup?
- ¿Ves 🔴 en timestamp?

### No aparecen filtros:
- ¿Ves botón "⚙️ Filtros Avanzados"?
- ¿Clickeaste en el botón?
- ¿Hay errores en console?

### Filtros no funcionan:
- ¿Clickeaste "Aplicar Filtros"?
- ¿Console muestra logs de filtros?
- ¿Panel se cierra al aplicar?

### Ripio sigue apareciendo:
- ¿Console dice "excluyendo ripio"?
- ¿Versión es 5.0.75?
- ¿Recargaste la extensión?

---

**🎉 ¡Ahora sabes exactamente qué esperar!**

Sigue TESTING_QUICK_GUIDE.md y compara con estas imágenes.

---

**Creado**: 13 de octubre de 2025  
**Versión**: 5.0.75
