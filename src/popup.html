<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>arbitrarARS</title>
    <!-- UI Components CSS - Design System -->
    <link rel="stylesheet" href="ui-components/design-system.css" />
    <!-- Skip Link Styles -->
    <style>
      .skip-link {
        position: absolute;
        top: -40px;
        left: 0;
        background: var(--color-brand-primary, #3b82f6);
        color: white;
        padding: 8px 16px;
        z-index: 10000;
        text-decoration: none;
        font-weight: 500;
        transition: top 0.3s ease;
      }
      .skip-link:focus {
        top: 0;
      }
    </style>
    <link rel="stylesheet" href="ui-components/animations-minimal.css" />
    <link rel="stylesheet" href="ui-components/header.css" />
    <link rel="stylesheet" href="ui-components/exchange-card.css" />
    <link rel="stylesheet" href="ui-components/arbitrage-panel.css" />
    <link rel="stylesheet" href="ui-components/tabs.css" />
    <link rel="stylesheet" href="ui-components/loading-states.css" />
    <link rel="stylesheet" href="ui-components/states-feedback.css" />
    <!-- Main popup CSS -->
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <!-- Skip Link para Accesibilidad -->
    <a href="#main-content" class="skip-link">Saltar al contenido principal</a>
    
    <!-- ==========================================
         LUCIDE ICONS SPRITE SHEET
         Iconos oficiales de Lucide (https://lucide.dev)
         Optimizado para extensión Chrome (~5KB)
         ========================================== -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      
      <!-- ==========================================
           NAVEGACIÓN Y ACCIONES
           ========================================== -->
      
      <!-- Logo - Dollar Sign -->
      <symbol id="icon-logo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="12" x2="12" y1="2" y2="22"/>
        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
      </symbol>
      
      <!-- Refresh CW -->
      <symbol id="icon-refresh" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
        <path d="M21 3v5h-5"/>
        <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
        <path d="M8 16H3v5"/>
      </symbol>
      
      <!-- Settings -->
      <symbol id="icon-settings" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
        <circle cx="12" cy="12" r="3"/>
      </symbol>
      
      <!-- X (Close) -->
      <symbol id="icon-close" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M18 6 6 18"/>
        <path d="m6 6 12 12"/>
      </symbol>

      <!-- ==========================================
           TABS Y OPERACIONES
           ========================================== -->
      
      <!-- Zap (Arbitraje/Bolt) -->
      <symbol id="icon-bolt" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"/>
      </symbol>
      <symbol id="icon-arbitrage" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"/>
      </symbol>
      
      <!-- Bitcoin (Crypto) -->
      <symbol id="icon-crypto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.199L13.5 5m-1.74-.44L11.5 3m-.947 4.04-2.86-.5m1.5 8L9 13.5"/>
      </symbol>
      <symbol id="icon-btc" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.199L13.5 5m-1.74-.44L11.5 3m-.947 4.04-2.86-.5m1.5 8L9 13.5"/>
      </symbol>
      
      <!-- Calculator (Simulator) -->
      <symbol id="icon-simulator" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="16" height="20" x="4" y="2" rx="2"/>
        <line x1="8" x2="16" y1="6" y2="6"/>
        <line x1="16" x2="16" y1="14" y2="18"/>
        <path d="M16 10h.01"/>
        <path d="M12 10h.01"/>
        <path d="M8 10h.01"/>
        <path d="M12 14h.01"/>
        <path d="M8 14h.01"/>
        <path d="M12 18h.01"/>
        <path d="M8 18h.01"/>
      </symbol>
      
      <!-- Building 2 (Exchange) -->
      <symbol id="icon-exchange" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"/>
        <path d="M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"/>
        <path d="M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"/>
        <path d="M10 6h4"/>
        <path d="M10 10h4"/>
        <path d="M10 14h4"/>
        <path d="M10 18h4"/>
      </symbol>
      
      <!-- List (Guide) -->
      <symbol id="icon-guide" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="8" x2="21" y1="6" y2="6"/>
        <line x1="8" x2="21" y1="12" y2="12"/>
        <line x1="8" x2="21" y1="18" y2="18"/>
        <line x1="3" x2="3.01" y1="6" y2="6"/>
        <line x1="3" x2="3.01" y1="12" y2="12"/>
        <line x1="3" x2="3.01" y1="18" y2="18"/>
      </symbol>
      
      <!-- Users (P2P) -->
      <symbol id="icon-p2p" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
        <circle cx="9" cy="7" r="4"/>
        <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
      </symbol>

      <!-- ==========================================
           INFORMACIÓN Y ESTADO
           ========================================== -->
      
      <!-- Info -->
      <symbol id="icon-info" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 16v-4"/>
        <path d="M12 8h.01"/>
      </symbol>
      
      <!-- Alert Triangle (Warning) -->
      <symbol id="icon-warning" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"/>
        <path d="M12 9v4"/>
        <path d="M12 17h.01"/>
      </symbol>
      
      <!-- Check (Success) -->
      <symbol id="icon-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 6 9 17l-5-5"/>
      </symbol>
      
      <!-- Circle X (Error) -->
      <symbol id="icon-error" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"/>
        <path d="m15 9-6 6"/>
        <path d="m9 9 6 6"/>
      </symbol>
      
      <!-- Help Circle (Question) -->
      <symbol id="icon-question" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"/>
        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
        <path d="M12 17h.01"/>
      </symbol>
      
      <!-- Sparkles -->
      <symbol id="icon-sparkle" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"/>
        <path d="M20 3v4"/>
        <path d="M22 5h-4"/>
        <path d="M4 17v2"/>
        <path d="M5 18H3"/>
      </symbol>

      <!-- ==========================================
           FILTROS Y CONTROLES
           ========================================== -->
      
      <!-- Filter -->
      <symbol id="icon-filter" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
      </symbol>
      
      <!-- Target -->
      <symbol id="icon-target" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"/>
        <circle cx="12" cy="12" r="6"/>
        <circle cx="12" cy="12" r="2"/>
      </symbol>
      
      <!-- Rotate CCW (Reset) -->
      <symbol id="icon-reset" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
        <path d="M3 3v5h5"/>
      </symbol>

      <!-- ==========================================
           DATOS FINANCIEROS
           ========================================== -->
      
      <!-- Dollar Sign -->
      <symbol id="icon-dollar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="12" x2="12" y1="2" y2="22"/>
        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
      </symbol>
      
      <!-- Coins -->
      <symbol id="icon-coins" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="8" cy="8" r="6"/>
        <path d="M18.09 10.37A6 6 0 1 1 10.34 18"/>
        <path d="M7 6h1v4"/>
        <path d="m16.71 13.88.7.71-2.82 2.82"/>
      </symbol>
      
      <!-- Percent -->
      <symbol id="icon-percent" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="19" x2="5" y1="5" y2="19"/>
        <circle cx="6.5" cy="6.5" r="2.5"/>
        <circle cx="17.5" cy="17.5" r="2.5"/>
      </symbol>
      
      <!-- Clock -->
      <symbol id="icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"/>
        <polyline points="12 6 12 12 16 14"/>
      </symbol>
      
      <!-- Bar Chart 3 -->
      <symbol id="icon-chart" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 3v18h18"/>
        <path d="M18 17V9"/>
        <path d="M13 17V5"/>
        <path d="M8 17v-3"/>
      </symbol>
      
      <!-- Trending Up -->
      <symbol id="icon-trend" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/>
        <polyline points="16 7 22 7 22 13"/>
      </symbol>
      
      <!-- Trending Down -->
      <symbol id="icon-trend-down" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="22 17 13.5 8.5 8.5 13.5 2 7"/>
        <polyline points="16 17 22 17 22 11"/>
      </symbol>

      <!-- ==========================================
           CRIPTOMONEDAS
           ========================================== -->
      
      <!-- USDT - Circle Dollar -->
      <symbol id="icon-usdt" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"/>
        <path d="M16 8H8"/>
        <path d="M12 8v10"/>
      </symbol>
      
      <!-- ETH - Diamond -->
      <symbol id="icon-eth" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41L13.7 2.71a2.41 2.41 0 0 0-3.41 0z"/>
      </symbol>
      
      <!-- USDC - Circle -->
      <symbol id="icon-usdc" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 6v2"/>
        <path d="M12 16v2"/>
        <path d="M8 12h8"/>
      </symbol>
      
      <!-- DAI - Diamond -->
      <symbol id="icon-dai" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M6 3h12l4 6-10 12L2 9z"/>
        <path d="M12 21V9"/>
        <path d="m2 9 20 0"/>
      </symbol>

      <!-- ==========================================
           FLECHAS Y NAVEGACIÓN
           ========================================== -->
      
      <!-- Arrow Right -->
      <symbol id="icon-arrow-right" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 12h14"/>
        <path d="m12 5 7 7-7 7"/>
      </symbol>
      
      <!-- Arrow Left -->
      <symbol id="icon-arrow-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m12 19-7-7 7-7"/>
        <path d="M19 12H5"/>
      </symbol>
      
      <!-- Arrow Up -->
      <symbol id="icon-arrow-up" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m5 12 7-7 7 7"/>
        <path d="M12 19V5"/>
      </symbol>
      
      <!-- Arrow Down -->
      <symbol id="icon-arrow-down" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 5v14"/>
        <path d="m19 12-7 7-7-7"/>
      </symbol>
      
      <!-- Chevron Right -->
      <symbol id="icon-chevron-right" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m9 18 6-6-6-6"/>
      </symbol>
      
      <!-- Chevron Down -->
      <symbol id="icon-chevron-down" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m6 9 6 6 6-6"/>
      </symbol>
      
      <!-- Chevron Up -->
      <symbol id="icon-chevron-up" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m18 15-6-6-6 6"/>
      </symbol>
      
      <!-- Download -->
      <symbol id="icon-download" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
        <polyline points="7 10 12 15 17 10"/>
        <line x1="12" x2="12" y1="15" y2="3"/>
      </symbol>
      
      <!-- External Link -->
      <symbol id="icon-external-link" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M15 3h6v6"/>
        <path d="M10 14 21 3"/>
        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
      </symbol>

      <!-- ==========================================
           EXTRAS
           ========================================== -->
      
      <!-- Copy -->
      <symbol id="icon-copy" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="14" height="14" x="8" y="8" rx="2" ry="2"/>
        <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>
      </symbol>
      
      <!-- Eye -->
      <symbol id="icon-eye" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"/>
        <circle cx="12" cy="12" r="3"/>
      </symbol>
      
      <!-- Eye Off -->
      <symbol id="icon-eye-off" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"/>
        <path d="M14.084 14.158a3 3 0 0 1-4.242-4.242"/>
        <path d="M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"/>
        <path d="m2 2 20 20"/>
      </symbol>
      
      <!-- Loader -->
      <symbol id="icon-loader" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 12a9 9 0 1 1-6.219-8.56"/>
      </symbol>
      
      <!-- Wallet -->
      <symbol id="icon-wallet" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"/>
        <path d="M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"/>
      </symbol>
      
      <!-- Shield -->
      <symbol id="icon-shield" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/>
      </symbol>
      
      <!-- Play -->
      <symbol id="icon-play" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polygon points="6 3 20 12 6 21 6 3"/>
      </symbol>
      
      <!-- Pause -->
      <symbol id="icon-pause" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="14" y="4" width="4" height="16" rx="1"/>
        <rect x="6" y="4" width="4" height="16" rx="1"/>
      </symbol>
      
      <!-- Plus -->
      <symbol id="icon-plus" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 12h14"/>
        <path d="M12 5v14"/>
      </symbol>
      
      <!-- Minus -->
      <symbol id="icon-minus" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 12h14"/>
      </symbol>
      
      <!-- Menu -->
      <symbol id="icon-menu" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="4" x2="20" y1="12" y2="12"/>
        <line x1="4" x2="20" y1="6" y2="6"/>
        <line x1="4" x2="20" y1="18" y2="18"/>
      </symbol>
      
    </svg>
    
    <div class="container">
      <header>
        <div class="header-content">
          <h1 class="heading-2">
            <span class="logo-icon icon icon-lg">
              <svg><use href="#icon-logo"></use></svg>
            </span>
            arbitrarARS
          </h1>
          <span class="subtitle">ARS → USDT</span>
        </div>
        <div class="header-buttons">
          <!-- Indicador de versión con badge de actualización -->
          <button id="version-indicator" class="version-indicator" 
                  data-tooltip="Versión actual"
                  aria-label="Ver versión">
            <span class="version-text">v6.0.0</span>
            <span id="update-badge" class="update-badge" style="display: none;" 
                  aria-label="Actualización disponible">
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2v10m0 0l-3-3m3 3l3-3M12 22v-6"/>
              </svg>
            </span>
          </button>
          <button id="settings" class="btn-header-icon"
                  data-tooltip="Configuración"
                  aria-label="Abrir configuración">
            <svg><use href="#icon-settings"></use></svg>
          </button>
          <button id="refresh" class="btn-header-icon btn-refresh"
                  data-tooltip="Actualizar"
                  aria-label="Actualizar datos">
            <svg><use href="#icon-refresh"></use></svg>
          </button>
        </div>
      </header>

      <!-- Modal de Actualización Disponible -->
      <dialog id="update-modal" class="update-modal-dialog" aria-labelledby="update-title">
        <div class="update-modal">
          <div class="update-modal-header">
            <span class="update-type-badge" id="update-type">MAJOR</span>
            <button id="dismiss-update" class="btn-dismiss-update"
                    aria-label="Cerrar notificación de actualización">
              <span class="icon icon-sm">
                <svg><use href="#icon-close"></use></svg>
              </span>
            </button>
          </div>

          <div class="update-modal-body">
            <div class="update-icon-wrapper">
              <span class="update-icon icon icon-xl icon-pulse">
                <svg><use href="#icon-sparkle"></use></svg>
              </span>
            </div>

            <h2 id="update-title" class="update-modal-title">¡Nueva versión disponible!</h2>

            <div class="update-versions">
              <span class="current-version text-mono" id="current-version">v5.0.83</span>
              <span class="version-arrow icon icon-sm">
                <svg><use href="#icon-arrow-right"></use></svg>
              </span>
              <span class="new-version text-mono" id="new-version">v6.0.0</span>
            </div>

            <p id="update-message" class="update-description body-small text-secondary">
              Nueva versión con mejoras de rendimiento y nuevas funcionalidades.
            </p>

            <div class="update-features" id="update-features">
              <h3 class="update-features-title">Novedades principales:</h3>
              <ul class="update-features-list" id="update-features-list">
                <li>Mejoras en la interfaz de usuario</li>
                <li>Nuevas funcionalidades de arbitraje</li>
                <li>Corrección de bugs y optimizaciones</li>
              </ul>
            </div>
          </div>

          <div class="update-modal-actions">
            <button id="download-update" class="btn btn-primary btn-download">
              <span class="icon icon-sm">
                <svg><use href="#icon-download"></use></svg>
              </span>
              Descargar actualización
            </button>
            <button id="view-update" class="btn btn-secondary">
              Ver más detalles
            </button>
          </div>
        </div>
      </dialog>

      <!-- Indicador de Salud del Mercado -->
      <div id="marketHealth" class="market-health"></div>

      <!-- Indicador de Cache -->
      <div id="cache-indicator" class="cache-indicator" style="display: none"></div>

      <!-- NUEVO v5.0.74: Advertencias de datos -->
      <div id="data-warning" class="data-warning-container" style="display: none"></div>

      <!-- Información del Precio del Dólar -->
      <div id="dollar-info" class="dollar-info" style="display: none">
        <div class="dollar-info-content">
          <div class="dollar-price">
            <div class="dollar-icon">
              <svg><use href="#icon-dollar"></use></svg>
            </div>
            <div class="dollar-details">
              <span class="dollar-value" id="dollar-current-price">$950.00</span>
              <span class="dollar-source" id="dollar-source-text">Fuente: Manual</span>
            </div>
          </div>
          <div class="dollar-actions">
            <button id="recalculate-dollar" class="dollar-action-btn" aria-label="Recalcular con precio personalizado">Recalcular</button>
            <button id="configure-dollar" class="dollar-action-btn secondary" aria-label="Abrir configuración de precio del dólar">Configurar</button>
          </div>
        </div>
      </div>

      <div class="tabs">
        <button class="tab active" data-tab="routes" aria-label="Arbitraje Fiat">
          <svg><use href="#icon-dollar"></use></svg>
          <span>Fiat</span>
        </button>
        <button class="tab" data-tab="crypto-arbitrage" aria-label="Arbitraje Cripto">
          <svg><use href="#icon-crypto"></use></svg>
          <span>Cripto</span>
        </button>
        <button class="tab" data-tab="simulator" aria-label="Simulador">
          <svg><use href="#icon-simulator"></use></svg>
          <span>Simular</span>
        </button>
        <button class="tab" data-tab="banks" aria-label="Exchanges">
          <svg><use href="#icon-exchange"></use></svg>
          <span>Exchanges</span>
        </button>
      </div>

      <main id="main-content">
        <!-- TAB: Guía Paso a Paso -->
        <section id="tab-guide" class="tab-content">
          <div id="selected-arbitrage-guide">
            <div class="placeholder-guide">
              <p>Selecciona una oportunidad de arbitraje para ver los pasos detallados.</p>
            </div>
          </div>
        </section>

        <!-- TAB: Todas las Rutas (Single + Multi-Exchange) -->
        <section id="tab-routes" class="tab-content active">
          <div id="loading" class="loading loading-state">
            <div class="spinner-premium lg">
              <div class="spinner-ring"></div>
              <div class="spinner-ring"></div>
              <div class="spinner-ring"></div>
            </div>
            <p class="loading-text">Calculando rutas optimizadas...</p>
            <div class="loading-dots">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>
          <div id="optimized-routes"></div>
        </section>

        <!-- TAB: Arbitraje Cripto (NUEVO) -->
        <section id="tab-crypto-arbitrage" class="tab-content">
          <!-- Selector de Criptomoneda -->
          <div class="crypto-selector-wrapper">
            <div class="crypto-selector">
              <span class="icon icon-sm"><svg><use href="#icon-crypto"></use></svg></span>
              <label for="crypto-filter" class="body-small text-emphasis">Criptomoneda:</label>
              <select id="crypto-filter" class="crypto-dropdown focus-ring">
                <option value="all">Todas las criptos</option>
                <option value="BTC">Bitcoin (BTC)</option>
                <option value="ETH">Ethereum (ETH)</option>
                <option value="USDC">USD Coin (USDC)</option>
                <option value="DAI">DAI</option>
                <option value="BNB">Binance Coin (BNB)</option>
                <option value="SOL">Solana (SOL)</option>
                <option value="ADA">Cardano (ADA)</option>
                <option value="XRP">Ripple (XRP)</option>
                <option value="MATIC">Polygon (MATIC)</option>
                <option value="DOGE">Dogecoin (DOGE)</option>
                <option value="USDT">Tether (USDT)</option>
              </select>
            </div>
          </div>

          <!-- Contenedor de Rutas Crypto -->
          <div id="crypto-routes-container">
            <div class="loading loading-state">
              <div class="spinner-premium lg">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
              </div>
              <p class="loading-text">Calculando oportunidades de arbitraje crypto...</p>
              <div class="loading-dots">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>
          </div>
        </section>

        <!-- TAB: Simulador -->
        <section id="tab-simulator" class="tab-content">
          <div class="simulator-container">
            <!-- Instrucciones simples -->
            <p class="sim-instructions">Ingresá un monto y visualizá la ganancia según diferentes escenarios de precios.</p>

            <!-- Input de monto compacto -->
            <div class="sim-input-row">
              <label for="sim-amount">Monto:</label>
              <div class="sim-input-wrapper">
                <span class="sim-currency">$</span>
                <input type="number" id="sim-amount" value="1000000" min="1000" max="9999999999" step="1000" />
              </div>
              <button id="toggle-advanced" class="sim-settings-btn" title="Configuración avanzada">
                <svg><use href="#icon-settings"></use></svg>
              </button>
            </div>

            <!-- Configuración avanzada (oculta por defecto) -->
            <div id="advanced-config" class="sim-advanced" style="display: none">
              <div class="sim-config-grid">
                <div class="sim-config-group">
                  <span class="sim-config-title">Precios USD</span>
                  <div class="sim-config-row">
                    <label>Compra:</label>
                    <input type="number" id="sim-usd-buy-price" step="0.01" placeholder="Auto" />
                  </div>
                  <div class="sim-config-row">
                    <label>Venta:</label>
                    <input type="number" id="sim-usd-sell-price" step="0.01" placeholder="Auto" />
                  </div>
                </div>
                <div class="sim-config-group">
                  <span class="sim-config-title">Fees (%)</span>
                  <div class="sim-config-row">
                    <label>Compra:</label>
                    <input type="number" id="sim-buy-fee" step="0.01" value="1.0" min="0" max="10" />
                  </div>
                  <div class="sim-config-row">
                    <label>Venta:</label>
                    <input type="number" id="sim-sell-fee" step="0.01" value="1.0" min="0" max="10" />
                  </div>
                </div>
                <div class="sim-config-group">
                  <span class="sim-config-title">Otros</span>
                  <div class="sim-config-row">
                    <label>Transfer:</label>
                    <input type="number" id="sim-transfer-fee-usd" step="0.01" value="0" min="0" />
                  </div>
                  <div class="sim-config-row">
                    <label>Banco:</label>
                    <input type="number" id="sim-bank-commission" step="0.01" value="0" min="0" max="5" />
                  </div>
                </div>
              </div>
              <div class="sim-config-actions">
                <button id="btn-calculate-matrix" class="sim-btn-calc" title="Calcular">
                  <svg><use href="#icon-chart"></use></svg>
                </button>
                <button id="btn-reset-config" class="sim-btn-reset" title="Resetear">
                  <svg><use href="#icon-reset"></use></svg>
                </button>
              </div>
            </div>

            <!-- Matriz de resultados -->
            <div class="sim-matrix-section">
              <div class="sim-matrix-controls">
                <div class="sim-range-group">
                  <label>USD:</label>
                  <input type="number" id="matrix-usd-min" step="10" value="1400" min="800" max="2000" />
                  <span>-</span>
                  <input type="number" id="matrix-usd-max" step="10" value="2100" min="800" max="2500" />
                </div>
                <div class="sim-range-group">
                  <label>USDT:</label>
                  <input type="number" id="matrix-usdt-min" step="10" value="1000" min="900" max="1300" />
                  <span>-</span>
                  <input type="number" id="matrix-usdt-max" step="10" value="1100" min="900" max="1300" />
                </div>
                <button id="generate-risk-matrix" class="sim-btn-generate" title="Generar matriz">
                  <svg><use href="#icon-chart"></use></svg>
                </button>
              </div>

              <div id="risk-matrix-result" style="display: none">
                <!-- Filtros -->
                <div class="sim-matrix-filters">
                  <label>Filtrar:</label>
                  <input type="number" id="filter-min-profit" step="0.5" value="-5" min="-10" max="10" />
                  <span>% a</span>
                  <input type="number" id="filter-max-profit" step="0.5" value="10" min="-10" max="20" />
                  <span>%</span>
                  <button id="apply-matrix-filter" class="sim-btn-filter" title="Aplicar">
                    <svg><use href="#icon-success"></use></svg>
                  </button>
                  <button id="reset-matrix-filter" class="sim-btn-filter-reset" title="Reset">
                    <svg><use href="#icon-reset"></use></svg>
                  </button>
                </div>
                <div class="sim-filter-count" id="filter-results" style="display: none">
                  <span id="filter-count">0</span> combinaciones
                </div>

                <!-- Tabla de matriz -->
                <div class="sim-matrix-table-wrap">
                  <table class="sim-matrix-table" id="risk-matrix-table"></table>
                </div>

                <!-- Leyenda compacta -->
                <div class="sim-matrix-legend">
                  <span class="legend-positive">▲ &gt;1%</span>
                  <span class="legend-neutral">● 0-1%</span>
                  <span class="legend-negative">▼ &lt;0%</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- TAB: Bancos -->
        <section id="tab-banks" class="tab-content">
          <div id="banks-list">
            <div class="loading loading-state">
              <div class="spinner-premium lg">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
              </div>
              <p class="loading-text">Cargando cotizaciones de exchanges...</p>
              <div class="loading-dots">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>
          </div>
        </section>
      </main>

      <footer>
        <div class="footer-content">
          <div class="footer-left">
            <!-- Indicador de estado de conexión simplificado -->
            <div id="connection-status" class="connection-status online">
              <span class="status-dot"></span>
              <span id="last-update-time" class="status-time">--:--:--</span>
            </div>
          </div>
          <div class="footer-right">
            <div class="footer-filters">
              <button
                class="filter-btn-footer active"
                data-filter="no-p2p"
                data-tooltip="Rutas Directas"
                aria-label="Mostrar rutas directas"
              >
                <span class="icon icon-sm">
                  <svg><use href="#icon-bolt"></use></svg>
                </span>
              </button>
              <button
                class="filter-btn-footer"
                data-filter="p2p"
                data-tooltip="Rutas P2P"
                aria-label="Mostrar rutas P2P"
              >
                <span class="icon icon-sm">
                  <svg><use href="#icon-p2p"></use></svg>
                </span>
              </button>
              <button
                class="filter-btn-footer"
                data-filter="all"
                data-tooltip="Todas las Rutas"
                aria-label="Mostrar todas las rutas"
              >
                <span class="icon icon-sm">
                  <svg><use href="#icon-target"></use></svg>
                </span>
              </button>
            </div>
          </div>
        </div>
      </footer>

      <!-- MODAL DE DETALLES DE RUTA - Accesibilidad mejorada v6.0.0 -->
      <div
        id="route-details-modal"
        class="modal-overlay"
        style="display: none"
        role="dialog"
        aria-modal="true"
        aria-labelledby="modal-title"
        aria-describedby="modal-body"
      >
        <div class="modal-content" role="document">
          <div class="modal-header">
            <h3 id="modal-title">Detalles de la Ruta</h3>
            <button
              id="modal-close"
              class="modal-close-btn"
              data-tooltip="Cerrar (Esc)"
              aria-label="Cerrar modal"
            >
              <span class="icon icon-sm">
                <svg><use href="#icon-close"></use></svg>
              </span>
            </button>
          </div>
          <div id="modal-body" class="modal-body">
            <!-- Contenido generado dinámicamente -->
          </div>
        </div>
      </div>
    </div>
    <!-- UI Components JS - Design System -->
    <script src="ui-components/animations.js"></script>
    <script src="ui-components/tabs.js"></script>
    <script src="ui-components/arbitrage-panel.js"></script>
    <!-- Módulos Utils (cargados antes de popup.js) -->
    <script src="utils/stateManager.js"></script>
    <script src="utils/formatters.js"></script>
    <script src="utils/logger.js"></script>
    <script src="ui/routeRenderer.js"></script>
    <script src="ui/tooltipSystem.js"></script>
    <script src="utils.js"></script>
    <script src="renderHelpers.js"></script>
    <script src="ValidationService.js"></script>
    <!-- Módulos Refactorizados (FASE 2) -->
    <script src="utils/commonUtils.js"></script>
    <script src="modules/simulator.js"></script>
    <script src="modules/routeManager.js"></script>
    <script src="modules/filterManager.js"></script>
    <script src="modules/modalManager.js"></script>
    <script src="modules/notificationManager.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
